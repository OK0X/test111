(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["1c01eea1"],{"2b8b":function(t,e,a){"use strict";var n=a("f885"),o=a.n(n);o.a},"2ef2":function(t,e,a){"use strict";var n=a("7747"),o=a.n(n);o.a},"3f81":function(t,e,a){"use strict";var n=a("b51a"),o=a.n(n);o.a},"4c68":function(t,e,a){},"5dc8":function(t,e,a){"use strict";var n=a("4c68"),o=a.n(n);o.a},6870:function(t,e,a){},"6b45":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{on:{cancel:t.onCancel,show:t.onShow,hide:t.onHide},scopedSlots:t._u([{key:"buttons",fn:function(e){return a("div",{staticClass:"dialog-btn"},[a("q-btn",{attrs:{flat:"",label:"取消"},on:{click:e.cancel}}),a("q-btn",{staticStyle:{"margin-top":"0px"},attrs:{flat:"",label:"确定"},on:{click:t.onOk}})],1)}}]),model:{value:t.dialogData.show,callback:function(e){t.$set(t.dialogData,"show",e)},expression:"dialogData.show"}},[a("span",{staticStyle:{color:"black"},attrs:{slot:"message"},slot:"message"},[t._v(t._s(t.dialogData.msg))]),a("div",{attrs:{slot:"body"},slot:"body"},[a("q-input",{attrs:{type:"number",placeholder:"ethtrans"===t.dialogData.from?"请输入购买数量":"请输入提现金额"},model:{value:t.input1,callback:function(e){t.input1=e},expression:"input1"}}),a("q-input",{directives:[{name:"show",rawName:"v-show",value:t.cpuRepayShow,expression:"cpuRepayShow"}],attrs:{type:"number",placeholder:"请输入复投金额"},model:{value:t.repayAmt,callback:function(e){t.repayAmt=e},expression:"repayAmt"}}),"ethtrans"===t.dialogData.from?a("span",{staticStyle:{"font-size":"10px"}},[t._v("OK0X当前价:"+t._s(t.global.mcoinPrice)+",你需要支付"+t._s(t.input1*t.global.mcoinPrice)+"个eth")]):t._e(),a("q-input",{attrs:{placeholder:"请输入钱包密码"},model:{value:t.input2,callback:function(e){t.input2=e},expression:"input2"}})],1)])},o=[];n._withStripped=!0;a("7f7f"),a("96cf");var i=a("c973"),s=a.n(i),r={props:["dialogData"],data:function(){return{input1:"",input2:"",repayAmt:""}},computed:{cpuRepayShow:function(){return this.input1>this.dialogData.leftCanDraw3&&this.dialogData.w>=3},repayAmtTip:function(){return this.dialogData.amt}},methods:{onOk:function(){var t=this;if(""!==this.input1&&null!==this.input1)if(""!==this.input2)if(this.input2.length<6)toast("密码位数不对哦");else if("investDetail"===this.dialogData.from&&this.input1>this.dialogData.canDrawAmt)toast("提现金额不能大于可提数量");else if(this.cpuRepayShow&&this.repayAmt<this.dialogData.amt)toast("复投金额不能少于"+this.dialogData.amt);else if("referAwards"===this.dialogData.from&&this.input1>this.dialogData.referAwards)toast("提现金额不能大于推荐奖金哦");else if("referAwards"===this.dialogData.from&&this.input1>this.dialogData.totalInvest)toast("提现金额不能大于总投资金额哦");else{if(("investDetail"===this.dialogData.from||"referAwards"===this.dialogData.from)&&.01*this.input1/this.global.mcoinPrice>this.global.wallet.lastMcoinBalance)return this.$q.dialog({title:"",message:"OK0X余额不足，请先购买相应数量的OK0X"}).then(function(){_this.$router.push({path:"/ethtransfer",query:{p1:"OK0X",p2:t.global.wallet.lastMcoinBalance}})}),void(this.dialogData.show=!1);this.$emit("pressOK",{v1:this.input1,v2:this.input2,v3:this.repayAmt}),this.dialogData.show=!1}else toast("密码不能为空哦");else toast("数量不能为空哦")},onCancel:function(){},onShow:function(){},onHide:function(){},choose:function(){var t=s()(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.name.length){t.next=4;break}this.$q.dialog({title:"Please specify your name!",message:"Can't buy tickets without knowing your name."}),t.next=7;break;case 4:return t.next=6,e();case 6:this.$q.notify("Ok ".concat(this.name,", going with ").concat(a));case 7:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()}},l=r,c=(a("e96a"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,"d166aa2c",null);u.options.__file="CustomInputDialog.vue";e["a"]=u.exports},7747:function(t,e,a){},"7ec8":function(t,e){t.exports="data:image/png;base64,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"},b51a:function(t,e,a){},cd70:function(t,e,a){},e96a:function(t,e,a){"use strict";var n=a("cd70"),o=a.n(n);o.a},eb60:function(t,e,a){"use strict";var n=a("6870"),o=a.n(n);o.a},ef5a:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-dialog",{attrs:{ok:t.dialogData.ok},on:{show:t.onShow,hide:t.onHide},model:{value:t.dialogData.show,callback:function(e){t.$set(t.dialogData,"show",e)},expression:"dialogData.show"}},[a("span",{staticStyle:{color:"black"},attrs:{slot:"message"},slot:"message"},[t._v(t._s(t.dialogData.msg))]),a("div",{attrs:{slot:"body"},slot:"body"},[a("span",{staticClass:"cid-tx",domProps:{innerHTML:t._s(t.dialogData.vhtml)}})])])},o=[];n._withStripped=!0;a("7f7f"),a("96cf");var i=a("c973"),s=a.n(i),r={props:["dialogData"],data:function(){return{}},methods:{onOk:function(){this.dialogData.show=!1},onCancel:function(){},onShow:function(){},onHide:function(){},choose:function(){var t=s()(regeneratorRuntime.mark(function t(e,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(0!==this.name.length){t.next=4;break}this.$q.dialog({title:"Please specify your name!",message:"Can't buy tickets without knowing your name."}),t.next=7;break;case 4:return t.next=6,e();case 6:this.$q.notify("Ok ".concat(this.name,", going with ").concat(a));case 7:case"end":return t.stop()}},t,this)}));return function(e,a){return t.apply(this,arguments)}}()}},l=r,c=(a("2ef2"),a("2877")),u=Object(c["a"])(l,n,o,!1,null,"07a5bd10",null);u.options.__file="CustomInfoDialog.vue";e["a"]=u.exports},f241:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-layout",{attrs:{view:"lHh Lpr lFf"}},[a("q-page-container",[a("WalletHome",{directives:[{name:"show",rawName:"v-show",value:"wallet"===t.selectedTab,expression:"selectedTab==='wallet'"}]}),a("AppCenter",{directives:[{name:"show",rawName:"v-show",value:"game"===t.selectedTab,expression:"selectedTab==='game'"}]}),a("Setting",{directives:[{name:"show",rawName:"v-show",value:"setting"===t.selectedTab,expression:"selectedTab==='setting'"}]})],1),a("q-layout-footer",[a("q-tabs",{attrs:{animated:"",swipeable:"",position:"bottom",color:"transparent","text-color":"blue",align:"justify"},model:{value:t.selectedTab,callback:function(e){t.selectedTab=e},expression:"selectedTab"}},[a("q-tab",{attrs:{slot:"title",name:"wallet",icon:"account_balance_wallet",label:"资产"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"game",icon:"dashboard",label:"应用"},slot:"title"}),a("q-tab",{attrs:{slot:"title",name:"setting",icon:"settings",label:"设置"},slot:"title"})],1)],1)],1)},o=[];n._withStripped=!0;var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",{staticClass:"bg-gray"},[n("div",{staticClass:"total-assets"},[n("span",{staticStyle:{color:"dodgerblue"}},[t._v(t._s(t.global.ensname))]),n("br"),n("span",[t._v("总资产($)")]),n("br"),n("span",[t._v(t._s(t.totalAssets))])]),n("div",{staticClass:"mcoin",on:{click:t.toMCOINTransfer}},[n("img",{staticClass:"coin-icon",attrs:{src:a("7ec8")}}),n("div",{staticClass:"coin-info"},[n("div",{staticClass:"info-line1"},[n("span",{staticStyle:{color:"black"}},[t._v("OK0X")]),n("span",{staticStyle:{color:"black"}},[t._v(t._s(Number(t.mcoinBalance).toFixed(4)))])]),n("div",{staticClass:"info-line2"},[n("span",{staticStyle:{color:"gray"}},[t._v("=$"+t._s(t.mcoinPrice))]),n("span",{staticStyle:{color:"gray"}},[t._v("=$"+t._s(t.mcoinTotalUSD))])])])]),n("div",{staticClass:"mcoin",on:{click:t.toEthTransfer}},[n("img",{staticClass:"coin-icon",attrs:{src:a("7ec8")}}),n("div",{staticClass:"coin-info"},[n("div",{staticClass:"info-line1"},[n("span",{staticStyle:{color:"black"}},[t._v("ETH")]),n("span",{staticStyle:{color:"black"}},[t._v(t._s(Number(t.ethbalance).toFixed(4)))])]),n("div",{staticClass:"info-line2"},[n("span",{staticStyle:{color:"gray"}},[t._v("=$"+t._s(t.ethPrice))]),n("span",{staticStyle:{color:"gray"}},[t._v("=$"+t._s(t.ethTotalUSD))])])])])])},s=[];i._withStripped=!0;a("c5f6"),a("96cf");var r,l,c,u=a("c973"),h=a.n(u),f=a("e7ea"),g=a("a002"),m=a.n(g),p=a("96a1"),d={data:function(){return{ethbalance:this.global.wallet.lastEthbalance,mcoinBalance:this.global.wallet.lastMcoinBalance,ethPrice:"0.0000",ethTotalUSD:"0.0000",mcoinPrice:"0.0000",mcoinTotalUSD:"0.0000",totalAssets:"0.0000"}},mounted:function(){console.log("----walletHome mounted");var t=this;m.a.getItem("ethAddress").then(function(e){null===e?t.$router.push("/walletfirst"):(t.global.wallet.ethAddress=e.toLowerCase(),t.getBalance(),t.getMcoinBalance(),t.getEnsName())}).catch(function(t){toast(t)}),this.getMcoinPrice(),this.balanceRefreshTask(),m.a.getItem("ethBalance").then(function(e){null!==e&&(t.ethbalance=t.global.wallet.lastEthbalance=e)}),m.a.getItem("mcoinBalance").then(function(e){null!==e&&(t.mcoinBalance=t.global.wallet.lastMcoinBalance=e)}),m.a.getItem("ensname").then(function(e){null!==e&&(t.global.ensname=e)}),this.getETHPrice(),this.ethPriceRefreshTask(),this.getconfigs()},beforeDestroy:function(){clearInterval(r),clearInterval(l),clearInterval(c),m.a.setItem("ethBalance",this.ethbalance),m.a.setItem("mcoinBalance",this.mcoinBalance)},methods:{ethPriceRefreshTask:function(){var t=this;c=setInterval(function(){t.getETHPrice()},this.global.taskInterval)},getEnsName:function(){var t=this,e=function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.global.nabContract.getName(t.global.wallet.ethAddress);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();e().then(function(e){t.global.ensname=e,""!==e&&(m.a.setItem("ensname",e),m.a.getItem("ensreginfo").then(function(t){null!==t&&m.a.removeItem("ensreginfo").then(function(){console.log("----ensname is removed!")})}))})},getETHPrice:function(){var t=this,e="https://api.etherscan.io/api?module=stats&action=ethprice&apikey="+this.global.etherscanAPIKey;this.$axios.get(e).then(function(e){t.ethPrice=t.global.ethPrice=e.data.result.ethusd,t.ethTotalUSD=Number(t.global.wallet.lastEthbalance*t.ethPrice).toFixed(4),t.mcoinPrice=Number(t.global.mcoinPrice*t.ethPrice).toFixed(4),t.mcoinTotalUSD=Number(t.mcoinPrice*t.mcoinBalance).toFixed(4),t.totalAssets=Number(parseFloat(t.ethTotalUSD)+parseFloat(t.mcoinTotalUSD)).toFixed(4)}).catch(function(t){}).then(function(){})},balanceRefreshTask:function(){var t=this;r=setInterval(function(){t.getBalance()},this.global.taskInterval),l=setInterval(function(){t.getMcoinBalance()},this.global.taskInterval)},getconfigs:function(){var t=this,e=function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.global.m3gameContract.getConfigInfo();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();e().then(function(e){t.global.config.referLevel3Num=parseInt(e._referLevel3Num),t.global.config.referLevel4Num=parseInt(e._referLevel4Num),t.global.config.referLevel5Num=parseInt(e._referLevel5Num),t.global.config.week1Ratio=parseInt(e._week1Ratio),t.global.config.week2Ratio=parseInt(e._week2Ratio),t.global.config.week3Ratio=parseInt(e._week3Ratio),t.global.config.week4Ratio=parseInt(e._week4Ratio),t.global.config.totolApproveAmt=f["ethers"].utils.formatEther(e._totolApproveAmt),t.global.config.maxPerInvest=f["ethers"].utils.formatEther(e._maxPerInvest),t.global.config.intervalHours=parseInt(e._intervalHours),t.global.config.handlingFee=parseInt(e._handlingFee),t.global.config.referDrawInterval=parseInt(e._referDrawInterval)});var a=function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.global.m3gameContract.getReferRatio();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();a().then(function(e){t.global.config.referAwardsRatio1=parseInt(e._referAwardsRatio1),t.global.config.referAwardsRatio2=parseInt(e._referAwardsRatio2),t.global.config.referAwardsRatio3=parseInt(e._referAwardsRatio3),t.global.config.referAwardsRatio4=parseInt(e._referAwardsRatio4),t.global.config.referAwardsRatio5=parseInt(e._referAwardsRatio5)})},getMcoinPrice:function(){var t=this,e=function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.global.m3gameContract.price();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();e().then(function(e){t.global.mcoinPrice="0"===e?"0.0000":f["ethers"].utils.formatEther(e)})},getMcoinBalance:function(){var t=this,e=this.global.etherscanAPIPrefix+".etherscan.io/api?module=account&action=tokenbalance&contractaddress="+this.global.ok0xcoinAddress+"&address="+this.global.wallet.ethAddress+"&tag=latest&apikey="+this.global.etherscanAPIKey;this.$axios.get(e).then(function(e){t.global.wallet.lastMcoinBalance="0"===e.data.result?"0.0000":f["ethers"].utils.formatEther(e.data.result),t.mcoinBalance=t.global.wallet.lastMcoinBalance}).catch(function(t){}).then(function(){})},getBalance:function(){var t=this;this.global.defaultProvider.getBalance(this.global.wallet.ethAddress).then(function(e){var a=f["ethers"].utils.formatEther(e);t.ethbalance=t.global.wallet.lastEthbalance=a})},toEthTransfer:function(){this.$router.push({path:"/ethtransfer",query:{p1:"ETH",p2:this.global.wallet.lastEthbalance}})},toMCOINTransfer:function(){this.$router.push({path:"/ethtransfer",query:{p1:"OK0X",p2:this.global.wallet.lastMcoinBalance}})}}},b=d,v=(a("5dc8"),a("2877")),w=Object(v["a"])(b,i,s,!1,null,null,null);w.options.__file="WalletHome.vue";var y=w.exports,A=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",[a("div",{staticClass:"ac-top"}),a("div",{staticClass:"ac-bottom"},[a("div",{staticClass:"ac-bt-item",on:{click:function(e){t.itemClick(0)}}},[a("q-icon",{attrs:{name:"account_balance",size:"28px",color:"primary"}}),a("span",[t._v("理财")])],1),a("div",{staticClass:"ac-bt-item",on:{click:function(e){t.itemClick(1)}}},[a("q-icon",{attrs:{name:"text_rotation_none",size:"28px",color:"primary"}}),a("span",[t._v("域名注册")])],1),a("div",{staticClass:"ac-bt-item"},[t._v("敬请期待")])])])},k=[];A._withStripped=!0;var x={methods:{itemClick:function(t){switch(t){case 0:this.$router.push("/investhome");break;case 1:this.$router.push("/registeens");break}}}},_=x,C=(a("2b8b"),Object(v["a"])(_,A,k,!1,null,null,null));C.options.__file="AppCenter.vue";var D=C.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("q-page",{staticClass:"me"},[a("div",{staticClass:"top"}),a("div",{staticClass:"me-menu-div"},[a("div",{staticClass:"me-menu",on:{click:t.exportPrivateKey}},[a("span",[t._v(t._s(t.itmeName1))]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),a("div",{staticClass:"me-menu",on:{click:t.withdrawReadMe}},[a("span",[t._v("\n        公告信息\n        "),t.isNotifyNew?a("span",{staticStyle:{"font-size":"14px",color:"red"}},[t._v("new")]):t._e()]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),t.showContractDraw?a("div",{staticClass:"me-menu",on:{click:t.contractDraw}},[a("span",[t._v("奖励金提现(当前余额:"+t._s(t.contrDrawAcctBalance)+")")]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1):t._e(),a("custom-input-dialog-vue",{attrs:{dialogData:t.dialogData},on:{pressOK:t.pressOK}}),t.global.isWebVersion?t._e():a("div",{staticClass:"me-menu",on:{click:t.checkUpdata}},[a("span",[t._v("检测更新(当前版本:"+t._s(t.global.versionName)+")")]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),t._e(),a("div",{staticClass:"me-menu",on:{click:t.referApp}},[a("span",[t._v("推荐给好友")]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),a("div",{staticClass:"me-menu",on:{click:t.submitProblem}},[a("span",[t._v("问题反馈")]),a("q-icon",{staticClass:"back-icon",attrs:{name:"navigate_next"}})],1),a("q-btn",{staticClass:"me-exit",attrs:{color:"red",size:"md",label:"退出当前账号"},on:{click:t.toExit}}),a("CustomInfoDialog",{attrs:{dialogData:t.dialog}})],1)])},R=[];I._withStripped=!0;var S,q=a("9523"),T=a.n(q),E=(a("6b54"),a("7f7f"),a("079c"),a("6b45")),P=a("ef5a"),N=a("3452"),U={components:{CustomInputDialogVue:E["a"],CustomInfoDialog:P["a"]},data:function(){return{itmeName1:"备份助记词",showContractDraw:!1,contrDrawAcctBalance:"",dialogData:{show:!1,msg:"提现",from:"contractDraw"},isNotifyNew:!1,dialog:{show:!1,vhtml:"",ok:"关闭"}}},mounted:function(){this.getContractDrawAcc(),this.getContractDrawBalance(),this.getNotifyInfo()},methods:(S={toRegisteEns:function(){this.$router.push({path:"registeens",query:{p1:"settingmenu",p2:"注册域名"}})},getNotifyInfo:function(){var t=this,e={name:"notify"};this.$axios.get(this.global.BmobRestAPIUrl+"cmaconfig?where="+encodeURI(JSON.stringify(e)),{headers:this.global.BmobRestAPIHeaders}).then(function(e){if(200===e.status){var a=e.data.results;t.global.notify.value=a[0].value,t.global.notify.updatedAt=a[0].updatedAt,m.a.getItem("notifyUpdateAt").then(function(e){e!==t.global.notify.updatedAt&&(t.isNotifyNew=!0)})}})},referApp:function(){if(""!==this.global.ensname)if("undefined"!==typeof this.global.ensname){if(this.global.isWebVersion)return this.dialog.show=!0,void(this.dialog.vhtml="真正的智能合约开启你的财富之旅 "+this.global.referUrl+" 推荐码："+this.global.ensname+"【长按复制】");var t={message:"真正的智能合约开启你的财富之旅",url:this.global.referUrl+" 推荐码："+this.global.ensname,subject:"CMA",chooserTitle:"CMA"},e=function(t){},a=function(t){toast(t)};window.plugins.socialsharing.shareWithOptions(t,e,a)}else toast("请稍后，正在获取你的推荐码...");else this.$router.push({path:"/registeens",query:{p1:"setting"}})},checkUpdata:function(){var t=this;this.$axios.get(this.global.BmobRestAPIUrl+"cmaconfig",{headers:this.global.BmobRestAPIHeaders}).then(function(e){if(200===e.status){for(var a,n,o,i,s=e.data.results,r=0;r<s.length;r++)switch(s[r].name){case"latestVersionCode":a=s[r].value;break;case"updateTips":n=s[r].value;break;case"updateUrl":o=s[r].value;break;case"grayScaleRelease":i="true"===s[r].value;break}a>t.global.versionCode?i?t.global.isGrayUser?t.showUpdateDialog(n,o):toast("已是最新版"):t.showUpdateDialog(n,o):toast("已是最新版"),t.global.downloadUrl=o}})},submitProblem:function(){this.$q.dialog({message:"使用过程中遇到任何问题可发邮件到：support@ok0x.com ，我们将及时为你解决。",ok:"OK"})},showUpdateDialog:function(t,e){this.$q.dialog({title:"有新的版本！",message:t,ok:"下载更新",cancel:"暂不更新"}).then(function(){Object(p["a"])(e)}).catch(function(){})},getContractDrawBalance:function(){var t=this,e=function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.global.m3gameContract.contrDrawAcctBalance();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();e().then(function(e){t.contrDrawAcctBalance=f["ethers"].utils.formatEther(e)})},getContractDrawAcc:function(){var t=this,e=function(){var e=h()(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.global.m3gameContract.contrDrawAcct();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}();e().then(function(e){t.showContractDraw=e.toLowerCase()===t.global.wallet.ethAddress})},contractDraw:function(){this.dialogData.show=!0},pressOK:function(t){this.getLocalWallet(t)},getLocalWallet:function(t){var e=this;m.a.getItem("cryptMnemonic").then(function(a){null===a?(toast("当前没有可备份钱包，将跳到创建钱包页面"),e.$router.push("/walletfirst")):e.unlockWallet(a,t.v1,t.v2)}).catch(function(t){toast(t)})},unlockWallet:function(t,e,a){this.$q.loading.show({message:"正在提交交易，请稍后...",spinnerSize:50});try{var n=N.AES.decrypt(t,a),o=n.toString(N.enc.Utf8),i=f["ethers"].Wallet.fromMnemonic(o),s=i.connect(this.global.defaultProvider);this.doReferWithdraw(s,e)}catch(t){console.log(t),toast("密码错误"),this.$q.loading.hide()}},doReferWithdraw:function(t,e){var a=this,n=this.global.m3gameContract.connect(t);n.contrDraw(f["ethers"].utils.parseEther(e+"")).then(function(t){console.log(t),a.$q.loading.hide(),a.showInfoDialog("操作已提交",t.hash)}).catch(function(){toast("矿工费不足"),a.$q.loading.hide()})},withdrawReadMe:function(){this.$router.push("/withdrawreadme")},toExit:function(){var t=this;this.$q.dialog({title:"务必先备份助记词后再退出,否则将无法恢复钱包",message:"",cancel:!0}).then(function(){t.$router.push("/walletfirst"),t.removeLocalforage()}).catch(function(){})},removeLocalforage:function(){m.a.removeItem("refer:"+_this.global.wallet.ethAddress).then(function(){console.log("----refer is remove!")}),m.a.removeItem("ensname"),m.a.removeItem("ethBalance"),m.a.removeItem("mcoinBalance")},showInfoDialog:function(t,e){var a=this;this.$q.dialog({title:t,message:"",ok:"查看结果",cancel:"关闭"}).then(function(){Object(p["a"])(a.global.etherscanio+"tx/"+e)}).catch(function(){})}},T()(S,"unlockWallet",function(t,e){try{var a=N.AES.decrypt(t,e),n=a.toString(N.enc.Utf8);this.$q.dialog({title:"助记词",message:n}).then(function(){}).catch(function(){})}catch(t){console.error(t),toast("密码错误")}}),T()(S,"exportPrivateKey",function(){var t=this;m.a.getItem("cryptMnemonic").then(function(e){null===e?(toast("当前没有可备份钱包，将跳到创建钱包页面"),t.$router.push("/walletfirst")):t.showPswdInputDialog(e)}).catch(function(t){toast(t)})}),T()(S,"showPswdInputDialog",function(t){var e=this;this.$q.dialog({message:"请输入你的钱包密码",prompt:{model:"",type:"text"},cancel:!0,color:"secondary"}).then(function(a){""===a?toast("密码不能为空哦"):e.unlockWallet(t,a)}).catch(function(){})}),S)},B=U,O=(a("3f81"),Object(v["a"])(B,I,R,!1,null,null,null));O.options.__file="Setting.vue";var F=O.exports,M={components:{WalletHome:y,AppCenter:D,Setting:F},name:"MyLayout",data:function(){return{selectedTab:this.global.currentTab}},beforeDestroy:function(){this.global.currentTab=this.selectedTab,console.log("----mylayout-beforeDestory-"+this.global.currentTab)},created:function(){console.log("----mylayout-created");var t=this;m.a.getItem("cryptMnemonic").then(function(e){null===e&&t.$router.push("/walletfirst")}).catch(function(t){toast(t)}),this.checkConnection(),window.addEventListener("offline",this.onOffline,!1)},methods:{onOffline:function(){toast("网络已断开")},checkConnection:function(){var t=navigator.connection.type;"undefined"!==typeof Connection&&t===Connection.NONE&&toast("当前无网络")}}},H=M,$=(a("eb60"),Object(v["a"])(H,n,o,!1,null,null,null));$.options.__file="MyLayout.vue";e["default"]=$.exports},f885:function(t,e,a){}}]);
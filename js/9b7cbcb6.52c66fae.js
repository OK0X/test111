(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["9b7cbcb6"],{"22bd":function(t,a,e){},"416d":function(t,a,e){"use strict";var s=e("22bd"),n=e.n(s);n.a},"63d0":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"et"},[e("div",{staticClass:"up-part"},[e("TitleBar",{attrs:{titleTx:"ETH"===t.$route.query.p1?"ETH":"OK0X"}}),e("span",{staticClass:"eth-amt"},[t._v(t._s(Number(t.showBalance).toFixed(4)))]),e("span",{staticClass:"eth-bal"},[t._v("=$"+t._s(t.totalUSD))]),e("div",{staticClass:"tr-btn"},[e("q-btn",{staticClass:"btn",attrs:{flat:"",color:"primary",label:t.$t("receive")},nativeOn:{click:function(a){return t.toReceiveEth(a)}}}),e("div",{staticClass:"porti-line"}),e("q-btn",{staticClass:"btn",attrs:{flat:"",color:"primary",label:t.$t("send")},nativeOn:{click:function(a){return t.toTransferEth(a)}}})],1)],1),e("div",{staticClass:"down-part"},[e("span",{staticClass:"transfer-tip"},[t._v(t._s(t.$t("trrecord")))]),e("div",{staticClass:"trans-log"},[e("q-list",{attrs:{highlight:"",separator:"","no-border":""}},t._l(t.transactions,function(a){return e("q-item",{key:a.index,staticClass:"item",attrs:{to:{path:"transferdetail",query:{item:a,coin:t.currentCoin}}}},[e("div",{staticClass:"addr-amt"},[e("span",[t._v(t._s(t.setAddress(a.from,a.to)))]),e("span",{style:{color:t.setAmtColor(a.to,a.txreceipt_status)}},[t._v(t._s(t.setAmt(a.to,a.value)))])]),e("span",{staticClass:"time"},[t._v(t._s(t.formatTime(a.timeStamp)))])])}))],1)])])},n=[];s._withStripped=!0;e("c5f6");var i,r,l,o,c=e("9bfb"),h=e("e7ea"),u=e("a002"),d=e.n(u),f=(e("96a1"),e("3452"),{props:["params"],components:{TitleBar:c["a"]},data:function(){return{title:"ETH",currentCoin:this.$route.query.p1,showBalance:this.$route.query.p2,transactions:[],showBuyDialog:!0,totalUSD:"0.0000"}},created:function(){var t=this;"ETH"===this.$route.query.p1?d.a.getItem("historyTrans").then(function(a){null!==a&&(t.transactions=JSON.parse(a))}):d.a.getItem("historyTransMcoin").then(function(a){null!==a&&(t.transactions=JSON.parse(a))})},methods:{setAmtColor:function(t,a){return"0"===a?"red":t===this.global.wallet.ethAddress?"dodgerblue":"green"},toReceiveEth:function(){this.$router.push({path:"/receipteth",query:{p1:this.$route.query.p1}})},toTransferEth:function(){this.$router.push({path:"/transfereth",query:{p1:this.$route.query.p1}})},formatTime:function(t){return this.util.convertUTCTimeToLocalTime(1e3*t)},setAddress:function(t,a){return a===this.global.wallet.ethAddress?t.substring(0,7)+"..."+t.substring(t.length-7,t.length):a.substring(0,7)+"..."+a.substring(a.length-7,a.length)},setAmt:function(t,a){return t===this.global.wallet.ethAddress?"+"+Number(h["ethers"].utils.formatEther(a)).toFixed(4):"-"+Number(h["ethers"].utils.formatEther(a)).toFixed(4)},getEthTrans:function(){var t=this,a=this.global.apiUrl.etherscanAPIPrefix+".etherscan.io/api?module=account&action=txlist&address="+this.global.wallet.ethAddress+"&startblock=0&endblock=99999999&page=1&offset=100&sort=desc&apikey="+this.global.apiUrl.etherscanAPIKey;this.$axios.get(a).then(function(a){t.transactions=a.data.result}).catch(function(t){console.log(t)}).then(function(){})},getMcoinTrans:function(){var t=this,a=this.global.apiUrl.etherscanAPIPrefix+".etherscan.io/api?module=account&action=tokentx&contractaddress="+this.global.contractConfig.ok0xcoinAddress+"&address="+this.global.wallet.ethAddress+"&page=1&offset=100&sort=desc&apikey="+this.global.apiUrl.etherscanAPIKey;this.$axios.get(a).then(function(a){t.transactions=a.data.result}).catch(function(t){}).then(function(){})},setETHTask:function(){var t=this,a=this;i=setInterval(function(){var e=t.global.apiUrl.etherscanAPIPrefix+".etherscan.io/api?module=account&action=balance&address="+t.global.wallet.ethAddress+"&tag=latest&apikey="+t.global.apiUrl.etherscanAPIKey;t.$axios.get(e).then(function(t){a.global.wallet.lastEthbalance="0"===t.data.result?"0.0000":h["ethers"].utils.formatEther(t.data.result),a.showBalance=a.global.wallet.lastEthbalance}).catch(function(t){}).then(function(){})},this.global.taskInterval),l=setInterval(function(){a.getEthTrans()},this.global.taskInterval)},setMcoinTask:function(){var t=this,a=this;r=setInterval(function(){var e=t.global.apiUrl.etherscanAPIPrefix+".etherscan.io/api?module=account&action=tokenbalance&contractaddress="+t.global.contractConfig.ok0xcoinAddress+"&address="+t.global.wallet.ethAddress+"&tag=latest&apikey="+t.global.apiUrl.etherscanAPIKey;t.$axios.get(e).then(function(t){a.global.wallet.lastMcoinBalance="0"===t.data.result?"0.0000":h["ethers"].utils.formatEther(t.data.result),a.showBalance=a.global.wallet.lastMcoinBalance}).catch(function(t){}).then(function(){})},this.global.taskInterval),o=setInterval(function(){a.getMcoinTrans()},this.global.taskInterval)}},mounted:function(){"ETH"===this.$route.query.p1?(this.getEthTrans(),this.setETHTask(),this.totalUSD=Number(this.global.wallet.lastEthbalance*this.global.ethPrice).toFixed(4)):(this.getMcoinTrans(),this.setMcoinTask(),this.totalUSD=Number(this.global.config.mcoinPrice*this.global.ethPrice*this.global.wallet.lastMcoinBalance).toFixed(4))},beforeDestroy:function(){clearInterval(o),clearInterval(i),clearInterval(r),clearInterval(l),"ETH"===this.currentCoin?d.a.setItem("historyTrans",JSON.stringify(this.transactions)):d.a.setItem("historyTransMcoin",JSON.stringify(this.transactions))}}),b=f,g=(e("416d"),e("2877")),p=Object(g["a"])(b,s,n,!1,null,null,null);p.options.__file="EthTransfer.vue";a["default"]=p.exports},"9bfb":function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"title-bar"},[e("q-icon",{staticClass:"title-back-icon",attrs:{name:"navigate_before"},nativeOn:{click:function(a){return t.goBack(a)}}}),e("div",{staticClass:"title-tx"},[t._v(t._s(t.titleTx))])],1)},n=[];s._withStripped=!0;var i={props:["titleTx"],methods:{goBack:function(){this.$router.go(-1)}}},r=i,l=(e("a675"),e("2877")),o=Object(l["a"])(r,s,n,!1,null,null,null);o.options.__file="TitleBar.vue";a["a"]=o.exports},a675:function(t,a,e){"use strict";var s=e("ca51"),n=e.n(s);n.a},ca51:function(t,a,e){}}]);